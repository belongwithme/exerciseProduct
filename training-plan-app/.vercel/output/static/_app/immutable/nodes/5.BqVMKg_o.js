import"../chunks/CWj6FrbW.js";import{i as pe}from"../chunks/BTdtOKhu.js";import{av as $t,q as tt,b as v,p as me,as as Se,o as Ne,l as Gt,aZ as Y,i as w,m as W,a as Te,f as $,d as a,s as r,r as e,t as O,j as h,g as t,u as o,y as U,e as Q,n as ot,c as he,v as Tt,b2 as Xe,b3 as Je,h as Qe,$ as Re}from"../chunks/CDvu5KIv.js";import{i as S}from"../chunks/pr_9b7ab.js";import{e as ne,i as oe}from"../chunks/DtTT7JPL.js";import{s as Ue}from"../chunks/CaJesokv.js";import{s as Ot}from"../chunks/BrlEh5uC.js";import{l as It,s as Et,p as Kt}from"../chunks/C6rgrwdz.js";import{C as Me}from"../chunks/B1Bw7QfG.js";import{s as At}from"../chunks/BMDv3NVz.js";import{I as Yt,P as Ee}from"../chunks/fNyos_Jn.js";import{X as We}from"../chunks/BmpHNf-a.js";import{s as ta}from"../chunks/CVgBfsKF.js";function ge(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2"}]];Yt(y,Et({name:"activity"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function ea(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"m15 18-6-6 6-6"}]];Yt(y,Et({name:"chevron-left"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function aa(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"m9 18 6-6-6-6"}]];Yt(y,Et({name:"chevron-right"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function Ce(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"M12 6v6l4 2"}],["circle",{cx:"12",cy:"12",r:"10"}]];Yt(y,Et({name:"clock"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function Ae(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"}]];Yt(y,Et({name:"flame"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function He(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z"}]];Yt(y,Et({name:"heart"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function sa(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z"}]];Yt(y,Et({name:"message-circle"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function Ye(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["path",{d:"M12 20h9"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z"}]];Yt(y,Et({name:"pen-line"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}function ra(y,u){const i=It(u,["children","$$slots","$$events","$$legacy"]);/**
 * @license lucide-svelte v0.525.0 - ISC
 *
 * ISC License
 *
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 *
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 *
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 *
 */const d=[["circle",{cx:"12",cy:"12",r:"10"}],["circle",{cx:"12",cy:"12",r:"6"}],["circle",{cx:"12",cy:"12",r:"2"}]];Yt(y,Et({name:"target"},()=>i,{get iconNode(){return d},children:(_,g)=>{var s=$t(),b=tt(s);At(b,u,"default",{}),v(_,s)},$$slots:{default:!0}}))}var na=$("<div> </div>"),oa=$('<span class="status-emoji svelte-11kofa0"> </span>'),ia=$('<div class="workout-dot svelte-11kofa0"></div>'),la=$('<span class="more-indicator svelte-11kofa0">+</span>'),va=$('<div class="duration-badge svelte-11kofa0"> </div>'),da=$('<div class="workout-indicators svelte-11kofa0"><!> <div class="workout-dots svelte-11kofa0"><!> <!></div> <!></div>'),ca=$('<div class="today-marker svelte-11kofa0"></div>'),ua=$('<button><span class="day-number svelte-11kofa0"> </span> <!> <!></button>'),_a=$('<div class="calendar-container svelte-11kofa0"><div class="calendar-header svelte-11kofa0"><div class="header-left svelte-11kofa0"><h1 class="calendar-title svelte-11kofa0"><!> <div class="title-text svelte-11kofa0"><span class="year svelte-11kofa0"> </span> <span class="month svelte-11kofa0"> </span></div></h1> <div class="monthly-stats svelte-11kofa0"><div class="stat-item svelte-11kofa0"><!> <span class="svelte-11kofa0"> </span></div> <div class="stat-item svelte-11kofa0"><!> <span class="svelte-11kofa0"> </span></div> <div class="stat-item svelte-11kofa0"><!> <span class="svelte-11kofa0"> </span></div></div></div> <div class="header-controls svelte-11kofa0"><div class="nav-buttons svelte-11kofa0"><button class="nav-btn svelte-11kofa0" aria-label="上个月"><!></button> <button class="today-btn svelte-11kofa0">今天</button> <button class="nav-btn svelte-11kofa0" aria-label="下个月"><!></button></div></div></div> <div class="weekdays-header svelte-11kofa0"></div> <div class="calendar-grid svelte-11kofa0"></div> <div class="calendar-legend svelte-11kofa0"><div class="legend-section svelte-11kofa0"><h4 class="svelte-11kofa0">训练强度</h4> <div class="intensity-legend svelte-11kofa0"><div class="legend-item svelte-11kofa0"><div class="legend-box intensity-1 svelte-11kofa0"></div> <span class="svelte-11kofa0">轻度</span></div> <div class="legend-item svelte-11kofa0"><div class="legend-box intensity-2 svelte-11kofa0"></div> <span class="svelte-11kofa0">中度</span></div> <div class="legend-item svelte-11kofa0"><div class="legend-box intensity-3 svelte-11kofa0"></div> <span class="svelte-11kofa0">高度</span></div> <div class="legend-item svelte-11kofa0"><div class="legend-box intensity-4 svelte-11kofa0"></div> <span class="svelte-11kofa0">极高</span></div></div></div> <div class="legend-section svelte-11kofa0"><h4 class="svelte-11kofa0">状态说明</h4> <div class="status-legend svelte-11kofa0"><span class="status-item svelte-11kofa0">🟢 状态良好</span> <span class="status-item svelte-11kofa0">⚡ 精力充沛</span> <span class="status-item svelte-11kofa0">🟡 疲劳</span> <span class="status-item svelte-11kofa0">🔴 低效率</span> <span class="status-item svelte-11kofa0">🔵 一般</span></div></div></div></div>');function fa(y,u){me(u,!1);const i=W();let d=Kt(u,"calendarData",24,()=>[]),_=Kt(u,"currentYear",28,()=>new Date().getFullYear()),g=Kt(u,"currentMonth",28,()=>new Date().getMonth()+1);const s=Se();let b=W([]),H=W("");const F=["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],et=["日","一","二","三","四","五","六"];function X(){const c=_(),n=g()-1,T=new Date(c,n,1),m=new Date(c,n+1,0),M=T.getDay(),ct=new Date(c,n,0).getDate(),C=[],qt=new Date().toISOString().split("T")[0];for(let K=M-1;K>=0;K--){const E=ct-K,G=new Date(c,n-1,E).toISOString().split("T")[0];C.push({date:E,fullDate:G,isCurrentMonth:!1,isToday:!1,data:d().find(re=>re.date===G)})}const ee=m.getDate();for(let K=1;K<=ee;K++){const E=new Date(c,n,K).toISOString().split("T")[0];C.push({date:K,fullDate:E,isCurrentMonth:!0,isToday:E===qt,data:d().find(G=>G.date===E)})}const le=42-C.length;for(let K=1;K<=le;K++){const E=new Date(c,n+1,K).toISOString().split("T")[0];C.push({date:K,fullDate:E,isCurrentMonth:!1,isToday:!1,data:d().find(G=>G.date===E)})}w(b,C),w(H,F[n])}function I(){g()===1?(g(12),_(_()-1)):g(g()-1),s("monthChange",{year:_(),month:g()})}function it(){g()===12?(g(1),_(_()+1)):g(g()+1),s("monthChange",{year:_(),month:g()})}function Xt(){const c=new Date;_(c.getFullYear()),g(c.getMonth()+1),s("monthChange",{year:_(),month:g()})}function Jt(c){c.isCurrentMonth&&s("dayClick",{date:c.fullDate,data:c.data})}function Wt(c){if(!c||c.log_count===0)return 0;const n=c.total_duration_minutes||0,T=c.log_count,m=n/60+T*.5;return m>=3?4:m>=2?3:m>=1?2:1}function Qt(c){if(!c)return"";switch(c){case"状态良好":return"🟢";case"精力充沛":return"⚡";case"疲劳":return"🟡";case"低效率":return"🔴";case"一般":return"🔵";default:return"⚪"}}function Rt(c){if(!c.data||c.data.log_count===0)return`${c.fullDate} - 无训练记录`;const{log_count:n,total_duration_minutes:T,status_summary:m,mood_summary:M}=c.data;let B=`${c.fullDate}
`;return B+=`训练次数: ${n}次
`,T&&(B+=`训练时长: ${Math.round(T/60*10)/10}小时
`),m&&(B+=`状态: ${m}
`),M&&(B+=`心情: ${M}`),B.trim()}function Z(){const c=d().reduce((m,M)=>m+M.log_count,0),n=d().reduce((m,M)=>m+(M.total_duration_minutes||0),0),T=d().filter(m=>m.log_count>0).length;return{totalWorkouts:c,totalHours:Math.round(n/60*10)/10,activeDays:T}}Ne(()=>{X()}),Gt(()=>(Y(_()),Y(g()),Y(d())),()=>{_()&&g()&&d()&&X()}),Gt(()=>{},()=>{w(i,Z())}),Te(),pe();var at=_a(),gt=a(at),lt=a(gt),x=a(lt),k=a(x);Me(k,{class:"w-7 h-7 text-indigo-600"});var z=r(k,2),st=a(z),yt=a(st);e(st);var wt=r(st,2),Ht=a(wt,!0);e(wt),e(z),e(x);var Dt=r(x,2),vt=a(Dt),Lt=a(vt);ge(Lt,{class:"w-4 h-4 text-blue-500"});var pt=r(Lt,2),Ut=a(pt);e(pt),e(vt);var f=r(vt,2),p=a(f);Ce(p,{class:"w-4 h-4 text-green-500"});var D=r(p,2),mt=a(D);e(D),e(f);var rt=r(f,2),zt=a(rt);Me(zt,{class:"w-4 h-4 text-purple-500"});var te=r(zt,2),se=a(te);e(te),e(rt),e(Dt),e(lt);var Ft=r(lt,2),Vt=a(Ft),Mt=a(Vt),ie=a(Mt);ea(ie,{class:"w-5 h-5"}),e(Mt);var N=r(Mt,2),j=r(N,2),q=a(j);aa(q,{class:"w-5 h-5"}),e(j),e(Vt),e(Ft),e(gt);var L=r(gt,2);ne(L,5,()=>et,oe,(c,n,T)=>{var m=na();Ot(m,1,"weekday-cell svelte-11kofa0",null,{},{weekend:T===0||T===6});var M=a(m,!0);e(m),O(()=>h(M,t(n))),v(c,m)}),e(L);var P=r(L,2);ne(P,5,()=>t(b),oe,(c,n,T)=>{var m=ua();const M=U(()=>(t(n),o(()=>Wt(t(n).data)))),B=U(()=>T%7===0||T%7===6);let ct;var C=a(m),R=a(C,!0);e(C);var qt=r(C,2);{var ee=E=>{var G=da(),re=a(G);{var ue=A=>{var J=oa(),ht=a(J,!0);e(J),O(jt=>h(ht,jt),[()=>(t(n),o(()=>Qt(t(n).data.status_summary)))],U),v(A,J)};S(re,A=>{t(n),o(()=>t(n).data.status_summary)&&A(ue)})}var V=r(re,2),l=a(V);ne(l,1,()=>(t(n),o(()=>Array(Math.min(t(n).data.log_count,4)))),oe,(A,J)=>{var ht=ia();v(A,ht)});var nt=r(l,2);{var ut=A=>{var J=la();v(A,J)};S(nt,A=>{t(n),o(()=>t(n).data.log_count>4)&&A(ut)})}e(V);var dt=r(V,2);{var _t=A=>{var J=va(),ht=a(J);e(J),O(jt=>h(ht,`${jt??""}h`),[()=>(t(n),o(()=>Math.round(t(n).data.total_duration_minutes/60)))],U),v(A,J)};S(dt,A=>{t(n),o(()=>t(n).data.total_duration_minutes&&t(n).data.total_duration_minutes>=60)&&A(_t)})}e(G),v(E,G)};S(qt,E=>{t(n),o(()=>t(n).data&&t(n).data.log_count>0)&&E(ee)})}var le=r(qt,2);{var K=E=>{var G=ca();v(E,G)};S(le,E=>{t(n),o(()=>t(n).isToday)&&E(K)})}e(m),O((E,G)=>{ct=Ot(m,1,"calendar-day svelte-11kofa0",null,ct,E),Ue(m,"title",G),m.disabled=(t(n),o(()=>!t(n).isCurrentMonth)),h(R,(t(n),o(()=>t(n).date)))},[()=>({"current-month":t(n).isCurrentMonth,"other-month":!t(n).isCurrentMonth,today:t(n).isToday,weekend:t(B)&&t(n).isCurrentMonth,"has-workout":t(n).data&&t(n).data.log_count>0,"intensity-1":t(M)===1,"intensity-2":t(M)===2,"intensity-3":t(M)===3,"intensity-4":t(M)===4}),()=>(t(n),o(()=>Rt(t(n))))],U),Q("click",m,()=>Jt(t(n))),v(c,m)}),e(P),ot(2),e(at),O(()=>{h(yt,`${_()??""}年`),h(Ht,t(H)),h(Ut,`${t(i),o(()=>t(i).totalWorkouts)??""}次训练`),h(mt,`${t(i),o(()=>t(i).totalHours)??""}小时`),h(se,`${t(i),o(()=>t(i).activeDays)??""}活跃天`)}),Q("click",Mt,I),Q("click",N,Xt),Q("click",j,it),v(y,at),he()}var ga=$('<div class="stat-card svelte-1800zdt"><div class="stat-icon bg-green-100 svelte-1800zdt"><!></div> <div class="stat-content svelte-1800zdt"><div class="stat-value svelte-1800zdt"> </div> <div class="stat-label svelte-1800zdt">总时长</div></div></div>'),pa=$('<div class="stat-card svelte-1800zdt"><div class="stat-icon bg-purple-100 svelte-1800zdt"><!></div> <div class="stat-content svelte-1800zdt"><div><span class="status-emoji svelte-1800zdt"> </span> <span> </span></div> <div class="stat-label svelte-1800zdt">主要状态</div></div></div>'),ma=$('<div class="mood-section svelte-1800zdt"><!> <span class="mood-text svelte-1800zdt"> </span></div>'),ha=$('<div class="duration-chip svelte-1800zdt"><!> <span> </span></div>'),ba=$("<span><span> </span></span>"),ka=$('<span class="mood-chip svelte-1800zdt"> </span>'),xa=$('<div class="workout-meta svelte-1800zdt"><!> <!></div>'),$a=$('<span class="set-chip svelte-1800zdt"> </span>'),ya=$('<span class="more-sets svelte-1800zdt"> </span>'),wa=$('<div class="exercise-item svelte-1800zdt"><div class="exercise-header svelte-1800zdt"><span class="exercise-name svelte-1800zdt"> </span> <span class="exercise-stats svelte-1800zdt"> <!></span></div> <div class="sets-preview svelte-1800zdt"><!> <!></div></div>'),Da=$('<div class="exercises-summary svelte-1800zdt"><div class="exercises-header svelte-1800zdt"><span class="exercises-count svelte-1800zdt"> </span> <span class="sets-count svelte-1800zdt"> </span></div> <div class="exercises-list svelte-1800zdt"></div></div>'),za=$('<div class="workout-card svelte-1800zdt"><div class="workout-header svelte-1800zdt"><div class="workout-info svelte-1800zdt"><span class="workout-number svelte-1800zdt"></span> <!></div> <button class="edit-btn svelte-1800zdt"><!> 编辑</button></div> <!> <!></div>'),Ma=$('<div class="overview-card svelte-1800zdt"><h3 class="section-title svelte-1800zdt"><!> 训练概览</h3> <div class="stats-grid svelte-1800zdt"><div class="stat-card svelte-1800zdt"><div class="stat-icon bg-blue-100 svelte-1800zdt"><!></div> <div class="stat-content svelte-1800zdt"><div class="stat-value svelte-1800zdt"> </div> <div class="stat-label svelte-1800zdt">训练次数</div></div></div> <!> <!></div> <!></div> <div class="workouts-section svelte-1800zdt"><h3 class="section-title svelte-1800zdt"><!> 训练详情</h3> <div class="workouts-list svelte-1800zdt"></div></div>',1),Ca=$('<div class="empty-state svelte-1800zdt"><div class="empty-icon svelte-1800zdt"><!></div> <h3 class="empty-title svelte-1800zdt">这一天还没有训练记录</h3> <p class="empty-description svelte-1800zdt"><!></p></div>'),Sa=$('<button class="secondary-btn svelte-1800zdt">关闭</button> <button class="primary-btn svelte-1800zdt"><!> 添加训练</button>',1),Na=$('<button class="secondary-btn svelte-1800zdt">关闭</button> <button class="primary-btn svelte-1800zdt"><!> <!></button>',1),Ta=$('<div class="modal-backdrop svelte-1800zdt" role="dialog" aria-modal="true" aria-labelledby="modal-title"><div class="modal-content svelte-1800zdt"><div class="modal-header svelte-1800zdt"><div class="header-info svelte-1800zdt"><div class="date-info svelte-1800zdt"><!> <div><h2 id="modal-title" class="modal-title svelte-1800zdt"> </h2> <p class="date-subtitle svelte-1800zdt"><!></p></div></div></div> <button class="close-btn svelte-1800zdt" aria-label="关闭"><!></button></div> <div class="modal-body svelte-1800zdt"><!></div> <div class="modal-footer svelte-1800zdt"><!></div></div></div>');function La(y,u){me(u,!1);const i=W(),d=W();let _=Kt(u,"isOpen",8,!1),g=Kt(u,"selectedDate",8,""),s=Kt(u,"calendarData",8,null),b=Kt(u,"workoutLogs",24,()=>[]);const H=Se();function F(){H("close")}function et(x){const k=new Date(x),z=["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],st=["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"];return`${k.getFullYear()}年${st[k.getMonth()]}${k.getDate().toString().padStart(2,"0")}日 ${z[k.getDay()]}`}function X(x){if(!x)return"未记录";const k=Math.floor(x/60),z=x%60;return k>0?`${k}小时${z}分钟`:`${z}分钟`}function I(x){switch(x){case"状态良好":return{color:"text-green-700",bg:"bg-green-100",border:"border-green-300",emoji:"🟢"};case"精力充沛":return{color:"text-amber-700",bg:"bg-amber-100",border:"border-amber-300",emoji:"⚡"};case"疲劳":return{color:"text-yellow-700",bg:"bg-yellow-100",border:"border-yellow-300",emoji:"🟡"};case"低效率":return{color:"text-red-700",bg:"bg-red-100",border:"border-red-300",emoji:"🔴"};case"一般":return{color:"text-blue-700",bg:"bg-blue-100",border:"border-blue-300",emoji:"🔵"};default:return{color:"text-gray-700",bg:"bg-gray-100",border:"border-gray-300",emoji:"⚪"}}}function it(){H("createLog",{date:g()}),F()}function Xt(x){H("editLog",{logId:x}),F()}function Jt(x){x.target===x.currentTarget&&F()}function Wt(x){x.key==="Escape"&&F()}function Qt(x){return x.reduce((k,z)=>(k[z.exercise_name]||(k[z.exercise_name]=[]),k[z.exercise_name].push(z),k),{})}function Rt(x){return x.reduce((k,z)=>k+z.reps*(z.weight_kg||0),0)}function Z(x){const k=new Date(x),z=new Date;return z.setHours(0,0,0,0),k.setHours(0,0,0,0),k<z?"past":k>z?"future":"today"}Gt(()=>Y(g()),()=>{w(i,Z(g()))}),Gt(()=>Y(s()),()=>{w(d,s()&&s().log_count>0)}),Te(),pe();var at=$t(),gt=tt(at);{var lt=x=>{var k=Ta(),z=a(k),st=a(z),yt=a(st),wt=a(yt),Ht=a(wt);Me(Ht,{class:"w-6 h-6 text-indigo-600"});var Dt=r(Ht,2),vt=a(Dt),Lt=a(vt,!0);e(vt);var pt=r(vt,2),Ut=a(pt);{var f=N=>{var j=Tt("今天");v(N,j)},p=(N,j)=>{{var q=P=>{var c=Tt("未来日期");v(P,c)},L=P=>{var c=Tt();O(n=>h(c,`${n??""}天前`),[()=>(Y(g()),o(()=>Math.floor((new Date().getTime()-new Date(g()).getTime())/864e5)))],U),v(P,c)};S(N,P=>{t(i)==="future"?P(q):P(L,!1)},j)}};S(Ut,N=>{t(i)==="today"?N(f):N(p,!1)})}e(pt),e(Dt),e(wt),e(yt);var D=r(yt,2),mt=a(D);We(mt,{class:"w-5 h-5"}),e(D),e(st);var rt=r(st,2),zt=a(rt);{var te=N=>{var j=Ma(),q=tt(j),L=a(q),P=a(L);ge(P,{class:"w-5 h-5 text-indigo-600"}),ot(),e(L);var c=r(L,2),n=a(c),T=a(n),m=a(T);ge(m,{class:"w-5 h-5 text-blue-600"}),e(T);var M=r(T,2),B=a(M),ct=a(B,!0);e(B),ot(2),e(M),e(n);var C=r(n,2);{var R=V=>{var l=ga(),nt=a(l),ut=a(nt);Ce(ut,{class:"w-5 h-5 text-green-600"}),e(nt);var dt=r(nt,2),_t=a(dt),A=a(_t,!0);e(_t),ot(2),e(dt),e(l),O(J=>h(A,J),[()=>(Y(s()),o(()=>X(s().total_duration_minutes)))],U),v(V,l)};S(C,V=>{Y(s()),o(()=>{var l;return(l=s())==null?void 0:l.total_duration_minutes})&&V(R)})}var qt=r(C,2);{var ee=V=>{var l=pa(),nt=a(l),ut=a(nt);He(ut,{class:"w-5 h-5 text-purple-600"}),e(nt);var dt=r(nt,2),_t=a(dt),A=a(_t),J=a(A,!0);e(A);var ht=r(A,2),jt=a(ht,!0);e(ht),e(_t),ot(2),e(dt),e(l),O((be,_e,ke,xe)=>{Ot(_t,1,`status-badge ${be??""} ${_e??""}`,"svelte-1800zdt"),h(J,ke),Ot(ht,1,xe,"svelte-1800zdt"),h(jt,(Y(s()),o(()=>s().status_summary)))},[()=>(Y(s()),o(()=>I(s().status_summary).bg)),()=>(Y(s()),o(()=>I(s().status_summary).border)),()=>(Y(s()),o(()=>I(s().status_summary).emoji)),()=>(Y(s()),o(()=>I(s().status_summary).color))],U),v(V,l)};S(qt,V=>{Y(s()),o(()=>{var l;return(l=s())==null?void 0:l.status_summary})&&V(ee)})}e(c);var le=r(c,2);{var K=V=>{var l=ma(),nt=a(l);sa(nt,{class:"w-4 h-4 text-orange-600"});var ut=r(nt,2),dt=a(ut);e(ut),e(l),O(()=>h(dt,`心情: ${Y(s()),o(()=>s().mood_summary)??""}`)),v(V,l)};S(le,V=>{Y(s()),o(()=>{var l;return(l=s())==null?void 0:l.mood_summary})&&V(K)})}e(q);var E=r(q,2),G=a(E),re=a(G);Ye(re,{class:"w-5 h-5 text-green-600"}),ot(),e(G);var ue=r(G,2);ne(ue,5,b,oe,(V,l,nt)=>{var ut=za(),dt=a(ut),_t=a(dt),A=a(_t);A.textContent=`训练 #${nt+1}`;var J=r(A,2);{var ht=bt=>{var kt=ha(),Ct=a(kt);Ce(Ct,{class:"w-3 h-3"});var Bt=r(Ct,2),ae=a(Bt,!0);e(Bt),e(kt),O(ve=>h(ae,ve),[()=>(t(l),o(()=>X(t(l).duration_minutes)))],U),v(bt,kt)};S(J,bt=>{t(l),o(()=>t(l).duration_minutes)&&bt(ht)})}e(_t);var jt=r(_t,2),be=a(jt);Ye(be,{class:"w-4 h-4"}),ot(),e(jt),e(dt);var _e=r(dt,2);{var ke=bt=>{var kt=xa(),Ct=a(kt);{var Bt=St=>{var Nt=ba(),Zt=a(Nt),de=a(Zt);e(Zt),e(Nt),O(($e,fe,ye,ft)=>{Ot(Nt,1,`status-chip ${$e??""} ${fe??""}`,"svelte-1800zdt"),Ot(Zt,1,ye,"svelte-1800zdt"),h(de,`${ft??""} ${t(l),o(()=>t(l).status)??""}`)},[()=>(t(l),o(()=>I(t(l).status).bg)),()=>(t(l),o(()=>I(t(l).status).border)),()=>(t(l),o(()=>I(t(l).status).color)),()=>(t(l),o(()=>I(t(l).status).emoji))],U),v(St,Nt)};S(Ct,St=>{t(l),o(()=>t(l).status)&&St(Bt)})}var ae=r(Ct,2);{var ve=St=>{var Nt=ka(),Zt=a(Nt);e(Nt),O(()=>h(Zt,`💭 ${t(l),o(()=>t(l).mood)??""}`)),v(St,Nt)};S(ae,St=>{t(l),o(()=>t(l).mood)&&St(ve)})}e(kt),v(bt,kt)};S(_e,bt=>{t(l),o(()=>t(l).status||t(l).mood)&&bt(ke)})}var xe=r(_e,2);{var Fe=bt=>{var kt=Da();const Ct=U(()=>(t(l),o(()=>Qt(t(l).logged_sets))));var Bt=a(kt),ae=a(Bt),ve=a(ae);e(ae);var St=r(ae,2),Nt=a(St);e(St),e(Bt);var Zt=r(Bt,2);ne(Zt,5,()=>(Y(t(Ct)),o(()=>Object.entries(t(Ct)))),oe,(de,$e)=>{var fe=Xe(()=>Je(t($e),2));let ye=()=>t(fe)[0],ft=()=>t(fe)[1];var we=wa();const Le=U(()=>(ft(),o(()=>Rt(ft()))));var De=a(we),ze=a(De),Ve=a(ze,!0);e(ze);var je=r(ze,2),Pe=a(je),qe=r(Pe);{var Be=Pt=>{var xt=Tt();O(()=>h(xt,`· ${t(Le)??""}kg`)),v(Pt,xt)};S(qe,Pt=>{t(Le)>0&&Pt(Be)})}e(je),e(De);var Oe=r(De,2),Ie=a(Oe);ne(Ie,1,()=>(ft(),o(()=>ft().slice(0,3))),oe,(Pt,xt)=>{var ce=$a(),Ke=a(ce);e(ce),O(()=>h(Ke,`${t(xt),o(()=>t(xt).reps)??""}×${t(xt),o(()=>t(xt).weight_kg||0)??""}kg`)),v(Pt,ce)});var Ze=r(Ie,2);{var Ge=Pt=>{var xt=ya(),ce=a(xt);e(xt),O(()=>h(ce,`+${ft(),o(()=>ft().length-3)??""}`)),v(Pt,xt)};S(Ze,Pt=>{ft(),o(()=>ft().length>3)&&Pt(Ge)})}e(Oe),e(we),O(()=>{h(Ve,ye()),h(Pe,`${ft(),o(()=>ft().length)??""}组 `)}),v(de,we)}),e(Zt),e(kt),O(de=>{h(ve,`${de??""} 个动作`),h(Nt,`${t(l),o(()=>t(l).logged_sets.length)??""} 组`)},[()=>(Y(t(Ct)),o(()=>Object.keys(t(Ct)).length))],U),v(bt,kt)};S(xe,bt=>{t(l),o(()=>t(l).logged_sets&&t(l).logged_sets.length>0)&&bt(Fe)})}e(ut),Q("click",jt,()=>Xt(t(l).id)),v(V,ut)}),e(ue),e(E),O(()=>h(ct,(Y(s()),o(()=>{var V;return((V=s())==null?void 0:V.log_count)||0})))),v(N,j)},se=N=>{var j=Ca(),q=a(j),L=a(q);ge(L,{class:"w-12 h-12 text-gray-400"}),e(q);var P=r(q,4),c=a(P);{var n=m=>{var M=Tt("这是未来的日期，快来制定训练计划吧！");v(m,M)},T=(m,M)=>{{var B=C=>{var R=Tt("今天还没有训练，现在开始还不晚！");v(C,R)},ct=C=>{var R=Tt("这一天没有训练记录，创建一个回忆吧");v(C,R)};S(m,C=>{t(i)==="today"?C(B):C(ct,!1)},M)}};S(c,m=>{t(i)==="future"?m(n):m(T,!1)})}e(P),e(j),v(N,j)};S(zt,N=>{t(d)?N(te):N(se,!1)})}e(rt);var Ft=r(rt,2),Vt=a(Ft);{var Mt=N=>{var j=Sa(),q=tt(j),L=r(q,2),P=a(L);Ee(P,{class:"w-4 h-4"}),ot(),e(L),Q("click",q,F),Q("click",L,it),v(N,j)},ie=N=>{var j=Na(),q=tt(j),L=r(q,2),P=a(L);Ee(P,{class:"w-4 h-4"});var c=r(P,2);{var n=m=>{var M=Tt("暂不可用");v(m,M)},T=(m,M)=>{{var B=C=>{var R=Tt("开始训练");v(C,R)},ct=C=>{var R=Tt("添加记录");v(C,R)};S(m,C=>{t(i)==="today"?C(B):C(ct,!1)},M)}};S(c,m=>{t(i)==="future"?m(n):m(T,!1)})}e(L),O(()=>L.disabled=t(i)==="future"),Q("click",q,F),Q("click",L,it),v(N,j)};S(Vt,N=>{t(d)?N(Mt):N(ie,!1)})}e(Ft),e(z),e(k),O(N=>h(Lt,N),[()=>(Y(g()),o(()=>et(g())))],U),Q("click",D,F),Q("click",k,Jt),Q("keydown",k,Wt),v(x,k)};S(gt,x=>{_()&&x(lt)})}v(y,at),he()}var ja=$('<div class="notification-backdrop svelte-1cg2r4a" role="dialog" aria-modal="true" aria-labelledby="notification-title" tabindex="0"><div><button class="close-btn svelte-1cg2r4a" aria-label="关闭通知"><!></button> <div class="achievement-icon svelte-1cg2r4a"><div><span class="achievement-emoji svelte-1cg2r4a"> </span></div> <div class="streak-ring svelte-1cg2r4a"><!></div></div> <div class="content-area svelte-1cg2r4a"><h2 id="notification-title" class="achievement-title svelte-1cg2r4a"> </h2> <p class="achievement-message svelte-1cg2r4a"> </p> <div class="progress-section svelte-1cg2r4a"><div class="progress-info svelte-1cg2r4a"><span class="progress-label svelte-1cg2r4a"> </span> <span class="progress-value svelte-1cg2r4a"> </span></div> <div class="progress-bar svelte-1cg2r4a"><div></div></div></div> <div class="stats-grid svelte-1cg2r4a"><div class="stat-item svelte-1cg2r4a"><div class="stat-icon svelte-1cg2r4a"><!></div> <div class="stat-content svelte-1cg2r4a"><div class="stat-value svelte-1cg2r4a"> </div> <div class="stat-label svelte-1cg2r4a">连续天数</div></div></div> <div class="stat-item svelte-1cg2r4a"><div class="stat-icon svelte-1cg2r4a"><!></div> <div class="stat-content svelte-1cg2r4a"><div class="stat-value svelte-1cg2r4a"> </div> <div class="stat-label svelte-1cg2r4a">距离目标</div></div></div> <div class="stat-item svelte-1cg2r4a"><div class="stat-icon svelte-1cg2r4a"><!></div> <div class="stat-content svelte-1cg2r4a"><div class="stat-value svelte-1cg2r4a"> </div> <div class="stat-label svelte-1cg2r4a">完成度</div></div></div></div> <div class="encouragement-section svelte-1cg2r4a"><div class="encouragement-quote svelte-1cg2r4a">"坚持不懈，直到成功！"</div> <div class="encouragement-subtext svelte-1cg2r4a">你的每一天坚持都在创造更好的自己</div></div></div> <div class="decoration-elements svelte-1cg2r4a"><div class="decoration-particle particle-1 svelte-1cg2r4a">✨</div> <div class="decoration-particle particle-2 svelte-1cg2r4a">🌟</div> <div class="decoration-particle particle-3 svelte-1cg2r4a">💫</div> <div class="decoration-particle particle-4 svelte-1cg2r4a">⭐</div></div></div></div>');function Pa(y,u){me(u,!1);const i=W(),d=W(),_=W(),g=W();let s=Kt(u,"streakDays",8,0);const b=Se();let H=W(!1);function F(){return s()>=30?{title:`超级成就：连续训练 ${s()} 天！`,message:"你已经成为真正的健身达人！这种坚持不懈的精神令人敬佩。",emoji:"🏆",gradient:"from-yellow-400 via-orange-400 to-red-500"}:s()>=14?{title:`两周连胜：${s()} 天连续训练`,message:"坚持不懈的精神正在转化为健康的生活习惯，继续保持！",emoji:"💎",gradient:"from-purple-400 via-pink-400 to-red-400"}:s()>=7?{title:`一周冠军：${s()} 天连续打卡`,message:"恭喜你完成了一周的连续训练！这是培养习惯的重要里程碑。",emoji:"🔥",gradient:"from-red-400 via-pink-400 to-purple-500"}:s()>=3?{title:`连续之星：${s()} 天坚持训练`,message:"很棒的开始！坚持下去，你正在养成优秀的健身习惯。",emoji:"⭐",gradient:"from-blue-400 via-indigo-400 to-purple-500"}:{title:`连续训练 ${s()} 天`,message:"每一天的坚持都是向目标迈进的一步，继续加油！",emoji:"🎯",gradient:"from-green-400 via-blue-400 to-indigo-500"}}function et(){return s()<3?{target:3,description:"连续 3 天"}:s()<7?{target:7,description:"连续 1 周"}:s()<14?{target:14,description:"连续 2 周"}:s()<30?{target:30,description:"连续 1 个月"}:{target:60,description:"连续 2 个月"}}function X(){const Z=et();return Math.min(s()/Z.target*100,100)}function I(){return s()>=30?"legendary":s()>=14?"expert":s()>=7?"advanced":s()>=3?"intermediate":"beginner"}function it(){w(H,!1),setTimeout(()=>{b("close")},300)}function Xt(Z){Z.target===Z.currentTarget&&it()}function Jt(Z){Z.key==="Escape"&&it()}Ne(()=>{w(H,!0);const Z=setTimeout(()=>{t(H)&&it()},6e3);return()=>clearTimeout(Z)}),Gt(()=>{},()=>{w(i,F())}),Gt(()=>{},()=>{w(d,et())}),Gt(()=>{},()=>{w(_,X())}),Gt(()=>{},()=>{w(g,I())}),Te(),pe();var Wt=$t(),Qt=tt(Wt);{var Rt=Z=>{var at=ja(),gt=a(at),lt=a(gt),x=a(lt);We(x,{class:"w-5 h-5"}),e(lt);var k=r(lt,2),z=a(k),st=a(z),yt=a(st,!0);e(st),e(z);var wt=r(z,2),Ht=a(wt);Ae(Ht,{class:"w-6 h-6 text-orange-500"}),e(wt),e(k);var Dt=r(k,2),vt=a(Dt),Lt=a(vt,!0);e(vt);var pt=r(vt,2),Ut=a(pt,!0);e(pt);var f=r(pt,2),p=a(f),D=a(p),mt=a(D);e(D);var rt=r(D,2),zt=a(rt);e(rt),e(p);var te=r(p,2),se=a(te);e(te),e(f);var Ft=r(f,2),Vt=a(Ft),Mt=a(Vt),ie=a(Mt);Ae(ie,{class:"w-4 h-4 text-orange-500"}),e(Mt);var N=r(Mt,2),j=a(N),q=a(j,!0);e(j),ot(2),e(N),e(Vt);var L=r(Vt,2),P=a(L),c=a(P);ra(c,{class:"w-4 h-4 text-blue-500"}),e(P);var n=r(P,2),T=a(n),m=a(T,!0);e(T),ot(2),e(n),e(L);var M=r(L,2),B=a(M),ct=a(B);He(ct,{class:"w-4 h-4 text-red-500"}),e(B);var C=r(B,2),R=a(C),qt=a(R);e(R),ot(2),e(C),e(M),e(Ft),ot(2),e(Dt),ot(2),e(gt),e(at),O(ee=>{Ot(gt,1,`notification-card achievement-${t(g)??""}`,"svelte-1cg2r4a"),Ot(z,1,`icon-background bg-gradient-to-br ${t(i),o(()=>t(i).gradient)??""}`,"svelte-1cg2r4a"),h(yt,(t(i),o(()=>t(i).emoji))),h(Lt,(t(i),o(()=>t(i).title))),h(Ut,(t(i),o(()=>t(i).message))),h(mt,`下一个目标: ${t(d),o(()=>t(d).description)??""}`),h(zt,`${s()??""}/${t(d),o(()=>t(d).target)??""}`),Ot(se,1,`progress-fill bg-gradient-to-r ${t(i),o(()=>t(i).gradient)??""}`,"svelte-1cg2r4a"),ta(se,`width: ${t(_)??""}%`),h(q,s()),h(m,(t(d),Y(s()),o(()=>t(d).target-s()))),h(qt,`${ee??""}%`)},[()=>(t(_),o(()=>Math.round(t(_))))],U),Q("click",lt,it),Q("click",at,Xt),Q("keydown",at,Jt),v(Z,at)};S(Qt,Z=>{t(H)&&Z(Rt)})}v(y,Wt),he()}function Oa(y,u){const i=[],d=new Date,_=new Date(y,u,0).getDate(),g=["状态良好","精力充沛","疲劳","低效率","一般"],s=["充满活力","平静","有动力","轻松愉快","专注","满足","兴奋"];for(let b=1;b<=_;b++){const H=new Date(y,u-1,b),F=H.toISOString().split("T")[0];if(!(H>d)&&Math.random()<.7){const et=Math.floor(Math.random()*3)+1,X=Math.floor(Math.random()*120)+30;i.push({date:F,log_count:et,status_summary:g[Math.floor(Math.random()*g.length)],mood_summary:s[Math.floor(Math.random()*s.length)],total_duration_minutes:X})}}return i}function Ia(y,u=1){const i=["深蹲","硬拉","卧推","引体向上","推肩","弯举","臀桥","平板支撑","俯卧撑","仰卧起坐","箭步蹲","划船"],d=["状态良好","精力充沛","疲劳","低效率","一般"],_=["充满活力","平静","有动力","轻松愉快","专注","满足","兴奋"],g=[];for(let s=0;s<u;s++){const b=Math.floor(Math.random()*4)+3,H=[...i].sort(()=>Math.random()-.5).slice(0,b),F=[];H.forEach(et=>{const X=Math.floor(Math.random()*3)+3;for(let I=1;I<=X;I++)F.push({exercise_name:et,set_number:I,reps:Math.floor(Math.random()*8)+8,weight_kg:Math.floor(Math.random()*50)+20})}),g.push({id:`mock-log-${y}-${s}`,date:y,duration_minutes:Math.floor(Math.random()*90)+45,status:d[Math.floor(Math.random()*d.length)],mood:_[Math.floor(Math.random()*_.length)],logged_sets:F})}return g}var Ea=$('<meta name="description" content="查看您的训练日历，追踪训练进度和连续训练天数" class="svelte-1b05x8n"/>'),Aa=$('<div class="streak-badge svelte-1b05x8n"> </div>'),Ya=$('<div class="error-banner svelte-1b05x8n"><div class="error-content svelte-1b05x8n"><span class="error-icon svelte-1b05x8n">⚠️</span> <span class="error-message svelte-1b05x8n"> </span> <button class="retry-btn svelte-1b05x8n">重试</button></div></div>'),Wa=$('<div class="loading-container svelte-1b05x8n"><div class="loading-spinner svelte-1b05x8n"></div> <p class="loading-text svelte-1b05x8n">正在加载日历数据...</p></div>'),Ha=$('<div class="calendar-wrapper svelte-1b05x8n"><!></div>'),Fa=$('<div class="calendar-page svelte-1b05x8n"><div class="page-header svelte-1b05x8n"><div class="header-content svelte-1b05x8n"><h1 class="page-title svelte-1b05x8n">训练日历</h1> <p class="page-subtitle svelte-1b05x8n">追踪您的训练进度，养成健康的运动习惯</p></div> <!></div> <!> <!> <div class="tips-section svelte-1b05x8n"><h2 class="tips-title svelte-1b05x8n">使用提示</h2> <div class="tips-grid svelte-1b05x8n"><div class="tip-card svelte-1b05x8n"><div class="tip-icon svelte-1b05x8n">📅</div> <h3 class="tip-title svelte-1b05x8n">点击日期</h3> <p class="tip-description svelte-1b05x8n">点击任意日期查看详细的训练记录和状态</p></div> <div class="tip-card svelte-1b05x8n"><div class="tip-icon svelte-1b05x8n">🎯</div> <h3 class="tip-title svelte-1b05x8n">训练强度</h3> <p class="tip-description svelte-1b05x8n">颜色深浅表示训练强度，越深表示训练越充实</p></div> <div class="tip-card svelte-1b05x8n"><div class="tip-icon svelte-1b05x8n">🔥</div> <h3 class="tip-title svelte-1b05x8n">保持连续</h3> <p class="tip-description svelte-1b05x8n">坚持连续训练，培养健康的运动习惯</p></div> <div class="tip-card svelte-1b05x8n"><div class="tip-icon svelte-1b05x8n">📊</div> <h3 class="tip-title svelte-1b05x8n">数据统计</h3> <p class="tip-description svelte-1b05x8n">查看月度训练统计，了解自己的运动表现</p></div></div></div></div> <!> <!>',1);function as(y,u){me(u,!1);let i=W([]),d=W(new Date().getFullYear()),_=W(new Date().getMonth()+1),g=W(!1),s=W(""),b=W(!1),H=W(""),F=W(null),et=W([]),X=W(0),I=W(!1);async function it(f,p){w(g,!0),w(s,"");try{const D=Oa(f,p);w(i,D),Jt()}catch(D){console.error("加载日历数据失败:",D),w(s,"加载日历数据失败，请稍后重试")}finally{w(g,!1)}}async function Xt(f){try{return Ia(f)}catch(p){return console.error("加载训练日志失败:",p),[]}}function Jt(){const f=new Date;let p=0,D=new Date(f);for(;;){const mt=D.toISOString().split("T")[0],rt=t(i).find(zt=>zt.date===mt);if(rt&&rt.log_count>0)p++,D.setDate(D.getDate()-1);else break}w(X,p),p>=3&&!t(I)&&(w(I,!0),setTimeout(()=>{w(I,!1)},5e3))}function Wt(f){const{year:p,month:D}=f.detail;w(d,p),w(_,D),it(p,D)}async function Qt(f){const{date:p,data:D}=f.detail;w(H,p),w(F,D||null),w(et,await Xt(p)),w(b,!0)}function Rt(){w(b,!1),w(H,""),w(F,null),w(et,[])}function Z(f){const{date:p}=f.detail;console.log("创建新训练日志:",p),alert(`将导航到训练记录页面，日期: ${p}`)}function at(f){const{logId:p}=f.detail;console.log("编辑训练日志:",p),alert(`将导航到训练记录编辑页面，ID: ${p}`)}function gt(){w(I,!1)}Ne(()=>{it(t(d),t(_))}),pe();var lt=Fa();Qe(f=>{var p=Ea();Re.title="训练日历 - 健身追踪应用",v(f,p)});var x=tt(lt),k=a(x),z=r(a(k),2);{var st=f=>{var p=Aa(),D=a(p);e(p),O(()=>h(D,`🔥 连续训练 ${t(X)??""} 天`)),v(f,p)};S(z,f=>{t(X)>0&&f(st)})}e(k);var yt=r(k,2);{var wt=f=>{var p=Ya(),D=a(p),mt=r(a(D),2),rt=a(mt,!0);e(mt);var zt=r(mt,2);e(D),e(p),O(()=>h(rt,t(s))),Q("click",zt,()=>it(t(d),t(_))),v(f,p)};S(yt,f=>{t(s)&&f(wt)})}var Ht=r(yt,2);{var Dt=f=>{var p=Wa();v(f,p)},vt=f=>{var p=Ha(),D=a(p);fa(D,{get calendarData(){return t(i)},get currentYear(){return t(d)},get currentMonth(){return t(_)},$$events:{dayClick:Qt,monthChange:Wt}}),e(p),v(f,p)};S(Ht,f=>{t(g)?f(Dt):f(vt,!1)})}ot(2),e(x);var Lt=r(x,2);La(Lt,{get selectedDate(){return t(H)},get calendarData(){return t(F)},get workoutLogs(){return t(et)},get isOpen(){return t(b)},set isOpen(f){w(b,f)},$$events:{close:Rt,createLog:Z,editLog:at},$$legacy:!0});var pt=r(Lt,2);{var Ut=f=>{Pa(f,{get streakDays(){return t(X)},$$events:{close:gt}})};S(pt,f=>{t(I)&&f(Ut)})}v(y,lt),he()}export{as as component};
