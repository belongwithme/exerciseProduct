import{B as $,ai as L,C as B,ar as H,I as j,g as z,aB as D,a2 as I,aC as G,aD as q,aE as F,aF as J,aG as Q,aH as W,z as w,aI as X,aJ as Z,aK as m,aL as x,aM as ss,aN as as}from"./CDvu5KIv.js";import{c as es,s as ts}from"./BrlEh5uC.js";import{s as is}from"./CVgBfsKF.js";import{s as M,i as rs}from"./CXBPNQEL.js";function fs(s,e){var a=void 0,r;$(()=>{a!==(a=e())&&(r&&(L(r),r=null),a&&(r=B(()=>{H(()=>a(s))})))})}const S=Symbol("class"),k=Symbol("style"),P=Symbol("is custom element"),K=Symbol("is html");function vs(s){if(w){var e=!1,a=()=>{if(!e){if(e=!0,s.hasAttribute("value")){var r=s.value;N(s,"value",null),s.value=r}if(s.hasAttribute("checked")){var _=s.checked;N(s,"checked",null),s.checked=_}}};s.__on_r=a,m(a),x()}}function os(s,e){e?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function N(s,e,a,r){var _=R(s);w&&(_[e]=s.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&s.nodeName==="LINK")||_[e]!==(_[e]=a)&&(e==="loading"&&(s[Z]=a),a==null?s.removeAttribute(e):typeof a!="string"&&U(s).includes(e)?s[e]=a:s.setAttribute(e,a))}function us(s,e,a,r,_=!1){var d=R(s),y=d[P],h=!d[K];let v=w&&y;v&&I(!1);var f=e||{},A=s.tagName==="OPTION";for(var p in e)p in a||(a[p]=null);a.class?a.class=es(a.class):a[S]&&(a.class=null),a[k]&&(a.style??(a.style=null));var n=U(s);for(const t in a){let i=a[t];if(A&&t==="value"&&i==null){s.value=s.__value="",f[t]=i;continue}if(t==="class"){var E=s.namespaceURI==="http://www.w3.org/1999/xhtml";ts(s,E,i,r,e==null?void 0:e[S],a[S]),f[t]=i,f[S]=a[S];continue}if(t==="style"){is(s,i,e==null?void 0:e[k],a[k]),f[t]=i,f[k]=a[k];continue}var b=f[t];if(!(i===b&&!(i===void 0&&s.hasAttribute(t)))){f[t]=i;var u=t[0]+t[1];if(u!=="$$")if(u==="on"){const l={},g="$$"+t;let o=t.slice(2);var T=ss(o);if(G(o)&&(o=o.slice(0,-7),l.capture=!0),!T&&b){if(i!=null)continue;s.removeEventListener(o,f[g],l),f[g]=null}if(i!=null)if(T)s[`__${o}`]=i,F([o]);else{let V=function(Y){f[t].call(this,Y)};f[g]=q(o,s,V,l)}else T&&(s[`__${o}`]=void 0)}else if(t==="style")N(s,t,i);else if(t==="autofocus")J(s,!!i);else if(!y&&(t==="__value"||t==="value"&&i!=null))s.value=s.__value=i;else if(t==="selected"&&A)os(s,i);else{var c=t;h||(c=Q(c));var C=c==="defaultValue"||c==="defaultChecked";if(i==null&&!y&&!C)if(d[t]=null,c==="value"||c==="checked"){let l=s;const g=e===void 0;if(c==="value"){let o=l.defaultValue;l.removeAttribute(c),l.defaultValue=o,l.value=l.__value=g?o:null}else{let o=l.defaultChecked;l.removeAttribute(c),l.defaultChecked=o,l.checked=g?o:!1}}else s.removeAttribute(t);else C||n.includes(c)&&(y||typeof i!="string")?s[c]=i:typeof i!="function"&&N(s,c,i)}}}return v&&I(!0),f}function ns(s,e,a=[],r,_=!1,d=j){const y=a.map(d);var h=void 0,v={},f=s.nodeName==="SELECT",A=!1;if($(()=>{var n=e(...y.map(z)),E=us(s,h,n,r,_);A&&f&&"value"in n&&M(s,n.value);for(let u of Object.getOwnPropertySymbols(v))n[u]||L(v[u]);for(let u of Object.getOwnPropertySymbols(n)){var b=n[u];u.description===D&&(!h||b!==h[u])&&(v[u]&&L(v[u]),v[u]=B(()=>fs(s,()=>b))),E[u]=b}h=E}),f){var p=s;H(()=>{M(p,h.value,!0),rs(p)})}A=!0}function R(s){return s.__attributes??(s.__attributes={[P]:s.nodeName.includes("-"),[K]:s.namespaceURI===W})}var O=new Map;function U(s){var e=O.get(s.nodeName);if(e)return e;O.set(s.nodeName,e=[]);for(var a,r=s,_=Element.prototype;_!==r;){a=as(r);for(var d in a)a[d].set&&e.push(d);r=X(r)}return e}export{ns as a,vs as r,N as s};
