import{ae as v,ao as _,ap as d,aq as o,ar as c,as as b}from"./OdQOizuy.js";function s(e,r,t=!1){if(e.multiple){if(r==null)return;if(!v(r))return _();for(var a of e.options)a.selected=r.includes(n(a));return}for(a of e.options){var u=n(a);if(d(u,r)){a.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function m(e){var r=new MutationObserver(()=>{s(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),o(()=>{r.disconnect()})}function y(e,r,t=r){var a=!0;c(e,"change",u=>{var i=u?"[selected]":":checked",l;if(e.multiple)l=[].map.call(e.querySelectorAll(i),n);else{var f=e.querySelector(i)??e.querySelector("option:not([disabled])");l=f&&n(f)}t(l)}),b(()=>{var u=r();if(s(e,u,a),a&&u===void 0){var i=e.querySelector(":checked");i!==null&&(u=n(i),t(u))}e.__value=u,a=!1}),m(e)}function n(e){return"__value"in e?e.__value:e.value}export{y as b,m as i,s};
