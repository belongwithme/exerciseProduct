import"../chunks/CWj6FrbW.js";import{i as je}from"../chunks/BTdtOKhu.js";import{p as Ce,o as Le,l as Se,a as ze,f as v,h as Ae,t as b,g as e,e as _,b as u,c as Ue,d as t,s as l,i as c,m as x,$ as qe,r as a,u as O,n as Be,j as h,k as De,q as Fe,v as He}from"../chunks/CDvu5KIv.js";import{i as k,s as Ie,a as C}from"../chunks/pr_9b7ab.js";import{e as Ke,i as Ve}from"../chunks/DtTT7JPL.js";import{r as L,s as Ge}from"../chunks/CaJesokv.js";import{b as S}from"../chunks/0hSlB86f.js";import{p as Je}from"../chunks/Bfc47y5P.js";import{g as z}from"../chunks/CHRKuIq0.js";import{p as Oe}from"../chunks/Bc8OEm_j.js";import{c as de,u as Qe,a as Re,b as Te,s as We,d as Xe}from"../chunks/7hiSo8OZ.js";var Ye=v('<meta name="description" content="ç™»å½•æˆ–æ³¨å†Œè®­ç»ƒè®¡åˆ’ç®¡ç†ç³»ç»Ÿ"/>'),Ze=v('<div><label for="fullName" class="block text-sm font-medium text-gray-700 dark:text-gray-300">å§“å</label> <div class="mt-1"><input id="fullName" name="fullName" type="text" class="appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm" placeholder="è¯·è¾“å…¥æ‚¨çš„å§“å"/></div></div>'),er=v('<div><label for="confirmPassword" class="block text-sm font-medium text-gray-700 dark:text-gray-300">ç¡®è®¤å¯†ç </label> <div class="mt-1"><input id="confirmPassword" name="confirmPassword" type="password" autocomplete="new-password" class="appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm" placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "/></div></div>'),rr=v("<li> </li>"),ar=v('<ul class="list-disc list-inside space-y-1"></ul>'),tr=v("<p> </p>"),sr=v('<div class="rounded-md bg-red-50 dark:bg-red-900/20 p-4"><div class="flex"><div class="ml-3"><h3 class="text-sm font-medium text-red-800 dark:text-red-200"> </h3> <div class="mt-2 text-sm text-red-700 dark:text-red-300"><!> <!></div></div></div></div>'),or=De('<svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> ',1),ir=v('<div class="min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col justify-center py-12 sm:px-6 lg:px-8"><div class="sm:mx-auto sm:w-full sm:max-w-md"><div class="text-center"><h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-2">ğŸ‹ï¸â€â™‚ï¸</h1> <h2 class="text-3xl font-extrabold text-gray-900 dark:text-white">è®­ç»ƒè®¡åˆ’ç®¡ç†ç³»ç»Ÿ</h2> <p class="mt-2 text-sm text-gray-600 dark:text-gray-400"> </p></div></div> <div class="mt-8 sm:mx-auto sm:w-full sm:max-w-md"><div class="bg-white dark:bg-gray-800 py-8 px-4 shadow sm:rounded-lg sm:px-10"><form class="space-y-6"><!> <div><label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300">é‚®ç®±åœ°å€</label> <div class="mt-1"><input id="email" name="email" type="email" autocomplete="email" class="appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm" placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€"/></div></div> <div><label for="password" class="block text-sm font-medium text-gray-700 dark:text-gray-300">å¯†ç </label> <div class="mt-1"><input id="password" name="password" type="password" class="appearance-none block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md placeholder-gray-400 dark:placeholder-gray-500 focus:outline-none focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:text-white sm:text-sm" placeholder="è¯·è¾“å…¥å¯†ç "/></div></div> <!> <!> <div><button type="submit" class="group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-blue-500 dark:hover:bg-blue-600"><!></button></div> <div class="text-center"><button type="button" class="text-sm text-blue-600 hover:text-blue-500 dark:text-blue-400 dark:hover:text-blue-300"> </button></div></form> <div class="mt-6 text-center"><a href="/" class="text-sm text-gray-600 hover:text-gray-500 dark:text-gray-400 dark:hover:text-gray-300">â† è¿”å›é¦–é¡µ</a></div></div></div></div>');function xr(ne,ue){Ce(ue,!1);const[w,ce]=Ie(),ve=()=>C(Oe,"$page",w),A=()=>C(Qe,"$user",w),$=()=>C(Re,"$authError",w),Q=()=>C(Te,"$authLoading",w);let i=x("signin"),y=x(""),m=x(""),E=x(""),M=x(""),o=x([]),P=x(!1);Le(()=>{ve().url.searchParams.get("mode")==="signup"&&c(i,"signup"),de(),A()&&z("/")});function me(){c(i,e(i)==="signin"?"signup":"signin"),R();const r=e(i)==="signup"?"/auth?mode=signup":"/auth";z(r,{replaceState:!0})}function R(){c(o,[]),de()}function pe(){return c(o,[]),e(y).trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e(y))||e(o).push("è¯·è¾“å…¥æœ‰æ•ˆçš„é‚®ç®±åœ°å€"):e(o).push("è¯·è¾“å…¥é‚®ç®±åœ°å€"),e(m)?e(m).length<6&&e(o).push("å¯†ç è‡³å°‘éœ€è¦6ä¸ªå­—ç¬¦"):e(o).push("è¯·è¾“å…¥å¯†ç "),e(i)==="signup"&&(e(E)?e(m)!==e(E)&&e(o).push("ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´"):e(o).push("è¯·ç¡®è®¤å¯†ç "),e(M).trim()||e(o).push("è¯·è¾“å…¥å§“å")),e(o).length===0}async function T(){if(R(),!!pe()){c(P,!0);try{let r;e(i)==="signin"?r=await We(e(y).trim(),e(m)):r=await Xe(e(y).trim(),e(m),e(M).trim()),r.success&&e(i)==="signup"&&alert("æ³¨å†ŒæˆåŠŸï¼è¯·æ£€æŸ¥æ‚¨çš„é‚®ç®±å¹¶ç‚¹å‡»ç¡®è®¤é“¾æ¥ä»¥æ¿€æ´»è´¦æˆ·ã€‚")}catch(r){console.error("è®¤è¯é”™è¯¯:",r)}finally{c(P,!1)}}}function N(r){r.key==="Enter"&&T()}Se(()=>(A(),z),()=>{A()&&z("/")}),ze(),je();var U=ir();Ae(r=>{var s=Ye();b(()=>qe.title=`${e(i)==="signin"?"ç™»å½•":"æ³¨å†Œ"} - è®­ç»ƒè®¡åˆ’ç®¡ç†ç³»ç»Ÿ`),u(r,s)});var q=t(U),W=t(q),X=l(t(W),4),fe=t(X,!0);a(X),a(W),a(q);var Y=l(q,2),Z=t(Y),B=t(Z),ee=t(B);{var ge=r=>{var s=Ze(),d=l(t(s),2),n=t(d);L(n),a(d),a(s),S(n,()=>e(M),p=>c(M,p)),_("keydown",n,N),u(r,s)};k(ee,r=>{e(i)==="signup"&&r(ge)})}var D=l(ee,2),re=l(t(D),2),F=t(re);L(F),a(re),a(D);var H=l(D,2),ae=l(t(H),2),j=t(ae);L(j),a(ae),a(H);var te=l(H,2);{var be=r=>{var s=er(),d=l(t(s),2),n=t(d);L(n),a(d),a(s),S(n,()=>e(E),p=>c(E,p)),_("keydown",n,N),u(r,s)};k(te,r=>{e(i)==="signup"&&r(be)})}var se=l(te,2);{var xe=r=>{var s=sr(),d=t(s),n=t(d),p=t(n),we=t(p,!0);a(p);var ie=l(p,2),le=t(ie);{var $e=f=>{var g=ar();Ke(g,5,()=>e(o),Ve,(G,Pe)=>{var J=rr(),Ne=t(J,!0);a(J),b(()=>h(Ne,e(Pe))),u(G,J)}),a(g),u(f,g)};k(le,f=>{e(o),O(()=>e(o).length>0)&&f($e)})}var Ee=l(le,2);{var Me=f=>{var g=tr(),G=t(g,!0);a(g),b(()=>h(G,$())),u(f,g)};k(Ee,f=>{$()&&f(Me)})}a(ie),a(n),a(d),a(s),b(()=>h(we,(e(o),O(()=>e(o).length>0?"è¡¨å•éªŒè¯é”™è¯¯":"è®¤è¯é”™è¯¯")))),u(r,s)};k(se,r=>{e(o),$(),O(()=>e(o).length>0||$())&&r(xe)})}var I=l(se,2),K=t(I),he=t(K);{var ye=r=>{var s=or(),d=l(Fe(s),1,!0);b(()=>h(d,e(i)==="signin"?"ç™»å½•ä¸­...":"æ³¨å†Œä¸­...")),u(r,s)},_e=r=>{var s=He();b(()=>h(s,e(i)==="signin"?"ç™»å½•":"æ³¨å†Œ")),u(r,s)};k(he,r=>{Q()||e(P)?r(ye):r(_e,!1)})}a(K),a(I);var oe=l(I,2),V=t(oe),ke=t(V,!0);a(V),a(oe),a(B),Be(2),a(Z),a(Y),a(U),b(()=>{h(fe,e(i)==="signin"?"ç™»å½•åˆ°æ‚¨çš„è´¦æˆ·":"åˆ›å»ºæ‚¨çš„æ–°è´¦æˆ·"),Ge(j,"autocomplete",e(i)==="signin"?"current-password":"new-password"),K.disabled=Q()||e(P),h(ke,e(i)==="signin"?"è¿˜æ²¡æœ‰è´¦æˆ·ï¼Ÿç‚¹å‡»æ³¨å†Œ":"å·²æœ‰è´¦æˆ·ï¼Ÿç‚¹å‡»ç™»å½•")}),S(F,()=>e(y),r=>c(y,r)),_("keydown",F,N),S(j,()=>e(m),r=>c(m,r)),_("keydown",j,N),_("click",V,me),_("submit",B,Je(T)),u(ne,U),Ue(),ce()}export{xr as component};
