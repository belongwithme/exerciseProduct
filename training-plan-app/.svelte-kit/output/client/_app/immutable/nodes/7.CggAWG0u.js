import"../chunks/CWj6FrbW.js";import{i as rt}from"../chunks/BTdtOKhu.js";import{p as st,o as it,l as ot,a as dt,f as m,h as lt,b as u,c as nt,$ as vt,i as c,m as x,w as z,g as e,s as r,d as a,r as t,t as g,j as n,e as ct,q as pt,x as oe,u as d,y as ut,n as xt}from"../chunks/CDvu5KIv.js";import{i as de,s as gt,a as mt}from"../chunks/pr_9b7ab.js";import{e as He,i as ht}from"../chunks/DtTT7JPL.js";import{s as ft}from"../chunks/BrlEh5uC.js";import{b as le}from"../chunks/CXBPNQEL.js";import{u as bt}from"../chunks/7hiSo8OZ.js";import{g as _t}from"../chunks/CHRKuIq0.js";var yt=m('<div class="flex justify-center items-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div> <span class="ml-3 text-gray-600 dark:text-gray-300">加载训练记录中...</span></div>'),kt=m('<div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><h3 class="text-sm font-medium text-red-800">加载失败</h3> <p class="mt-1 text-sm text-red-700"> </p> <button class="mt-2 bg-red-100 hover:bg-red-200 text-red-800 px-3 py-1 rounded text-sm">重试</button></div></div></div>'),wt=m('<span class="inline-flex items-center px-2 py-1 rounded-md text-sm bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"> </span>'),Mt=m('<div><p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">训练笔记：</p> <p class="text-sm text-gray-600 dark:text-gray-400"> </p></div>'),jt=m('<div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-start justify-between"><div class="flex-1"><div class="flex items-center gap-3 mb-2"><h3 class="text-lg font-semibold text-gray-900 dark:text-white"> </h3> <span> </span></div> <div class="flex items-center text-sm text-gray-600 dark:text-gray-300 mb-3"><svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg> <span class="mr-4"> </span> <svg class="w-4 h-4 mr-1" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"></path></svg> <span> </span></div> <div class="mb-3"><p class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">训练动作：</p> <div class="flex flex-wrap gap-2"></div></div> <!></div></div></div>'),$t=m('<div class="text-center py-12"><svg class="mx-auto h-12 w-12 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v10a2 2 0 002 2h8a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"></path></svg> <h3 class="mt-2 text-sm font-medium text-gray-900 dark:text-white">暂无训练记录</h3> <p class="mt-1 text-sm text-gray-500 dark:text-gray-400">开始你的第一次训练吧！</p> <div class="mt-6"><a href="/plans" class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700">查看训练计划</a></div></div>'),Bt=m('<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8"><div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-300">总训练次数</p> <p class="text-2xl font-semibold text-gray-900 dark:text-white"> </p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-300">总训练时长</p> <p class="text-2xl font-semibold text-gray-900 dark:text-white"> </p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path></svg></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-300">平均时长</p> <p class="text-2xl font-semibold text-gray-900 dark:text-white"> </p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-300">当前连续</p> <p class="text-2xl font-semibold text-gray-900 dark:text-white"> </p></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><div class="flex items-center"><div class="flex-shrink-0"><div class="w-8 h-8 bg-red-100 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-red-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path></svg></div></div> <div class="ml-4"><p class="text-sm font-medium text-gray-600 dark:text-gray-300">最长连续</p> <p class="text-2xl font-semibold text-gray-900 dark:text-white"> </p></div></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6"><div class="flex flex-wrap gap-4 items-center"><div><label for="filter" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">筛选类型</label> <select id="filter" class="border border-gray-300 rounded-md px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white"><option>全部</option><option>力量训练</option><option>有氧训练</option><option>柔韧性训练</option><option>爆发力训练</option></select></div> <div><label for="sort" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">排序方式</label> <select id="sort" class="border border-gray-300 rounded-md px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white"><option>按日期</option><option>按时长</option><option>按动作数量</option></select></div> <div><label for="order" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">排序顺序</label> <select id="order" class="border border-gray-300 rounded-md px-3 py-2 bg-white dark:bg-gray-700 dark:border-gray-600 dark:text-white"><option>降序</option><option>升序</option></select></div></div></div> <div class="space-y-4"></div> <div class="fixed bottom-6 right-6"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-full shadow-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500"><svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg> 记录训练</button></div>',1),Ct=m('<div class="container mx-auto px-4 py-8"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">训练日志</h1> <p class="text-gray-600 dark:text-gray-300">记录和追踪你的训练进度</p></div> <!></div>');function Nt(Te,We){st(We,!1);const[qe,Ne]=gt(),Oe=()=>mt(bt,"$user",qe),ne=x();let B=x([]),H=x(!0),L=x(null),i=x({totalWorkouts:0,totalDuration:0,averageDuration:0,currentStreak:0,longestStreak:0}),C=x("date"),D=x("desc"),y=x("all");it(async()=>{if(!Oe()){_t("/auth");return}await ve()});async function ve(){try{c(H,!0),c(L,null),await new Promise(s=>setTimeout(s,1e3)),c(B,[{id:1,date:"2024-01-15",duration:45,exercises:["深蹲","硬拉","卧推"],type:"strength",notes:"感觉不错，重量有所提升"},{id:2,date:"2024-01-13",duration:30,exercises:["跑步","拉伸"],type:"cardio",notes:"轻松的有氧训练"},{id:3,date:"2024-01-11",duration:60,exercises:["弹跳训练","爆发力训练"],type:"plyometric",notes:"专注提升弹跳力"}]),z(i,e(i).totalWorkouts=e(B).length),z(i,e(i).totalDuration=e(B).reduce((s,l)=>s+l.duration,0)),z(i,e(i).averageDuration=Math.round(e(i).totalDuration/e(i).totalWorkouts)),z(i,e(i).currentStreak=3),z(i,e(i).longestStreak=7)}catch(s){c(L,"加载训练记录失败，请稍后重试"),console.error("加载训练记录失败:",s)}finally{c(H,!1)}}function Pe(s){return new Date(s).toLocaleDateString("zh-CN",{year:"numeric",month:"long",day:"numeric",weekday:"long"})}function Ae(s){return{strength:"力量训练",cardio:"有氧训练",flexibility:"柔韧性训练",plyometric:"爆发力训练",endurance:"耐力训练"}[s]||s}function Ee(s){return{strength:"bg-red-100 text-red-800",cardio:"bg-blue-100 text-blue-800",flexibility:"bg-green-100 text-green-800",plyometric:"bg-purple-100 text-purple-800",endurance:"bg-yellow-100 text-yellow-800"}[s]||"bg-gray-100 text-gray-800"}ot(()=>(e(B),e(y),e(C),e(D)),()=>{c(ne,e(B).filter(s=>e(y)==="all"||s.type===e(y)).sort((s,l)=>{let h,f;switch(e(C)){case"date":h=new Date(s.date).getTime(),f=new Date(l.date).getTime();break;case"duration":h=s.duration,f=l.duration;break;case"exercises":h=s.exercises.length,f=l.exercises.length;break;default:return 0}return e(D)==="asc"?h-f:f-h}))}),dt(),rt();var T=Ct();lt(s=>{vt.title="训练日志 - 弹跳训练营"});var Fe=r(a(T),2);{var Ge=s=>{var l=yt();u(s,l)},Ie=(s,l)=>{{var h=k=>{var w=kt(),M=a(w),j=r(a(M),2),$=r(a(j),2),V=a($,!0);t($);var S=r($,2);t(j),t(M),t(w),g(()=>n(V,e(L))),ct("click",S,ve),u(k,w)},f=k=>{var w=Bt(),M=pt(w),j=a(M),$=a(j),V=r(a($),2),S=r(a(V),2),Je=a(S,!0);t(S),t(V),t($),t(j);var W=r(j,2),ce=a(W),pe=r(a(ce),2),ue=r(a(pe),2),Ke=a(ue);t(ue),t(pe),t(ce),t(W);var q=r(W,2),xe=a(q),ge=r(a(xe),2),me=r(a(ge),2),Qe=a(me);t(me),t(ge),t(xe),t(q);var N=r(q,2),he=a(N),fe=r(a(he),2),be=r(a(fe),2),Re=a(be);t(be),t(fe),t(he),t(N);var _e=r(N,2),ye=a(_e),ke=r(a(ye),2),we=r(a(ke),2),Ue=a(we);t(we),t(ke),t(ye),t(_e),t(M);var O=r(M,2),Me=a(O),P=a(Me),A=r(a(P),2);g(()=>{e(y),oe(()=>{})});var E=a(A);E.value=E.__value="all";var F=r(E);F.value=F.__value="strength";var G=r(F);G.value=G.__value="cardio";var I=r(G);I.value=I.__value="flexibility";var je=r(I);je.value=je.__value="plyometric",t(A),t(P);var J=r(P,2),K=r(a(J),2);g(()=>{e(C),oe(()=>{})});var Q=a(K);Q.value=Q.__value="date";var R=r(Q);R.value=R.__value="duration";var $e=r(R);$e.value=$e.__value="exercises",t(K),t(J);var Be=r(J,2),U=r(a(Be),2);g(()=>{e(D),oe(()=>{})});var X=a(U);X.value=X.__value="desc";var Ce=r(X);Ce.value=Ce.__value="asc",t(U),t(Be),t(Me),t(O);var De=r(O,2);He(De,5,()=>e(ne),v=>v.id,(v,o)=>{var Y=jt(),ze=a(Y),Le=a(ze),Z=a(Le),ee=a(Z),Xe=a(ee,!0);t(ee);var te=r(ee,2),Ye=a(te,!0);t(te),t(Z);var ae=r(Z,2),re=r(a(ae),2),Ze=a(re);t(re);var Ve=r(re,4),et=a(Ve);t(Ve),t(ae);var se=r(ae,2),Se=r(a(se),2);He(Se,5,()=>(e(o),d(()=>e(o).exercises)),ht,(b,_)=>{var p=wt(),ie=a(p,!0);t(p),g(()=>n(ie,e(_))),u(b,p)}),t(Se),t(se);var tt=r(se,2);{var at=b=>{var _=Mt(),p=r(a(_),2),ie=a(p,!0);t(p),t(_),g(()=>n(ie,(e(o),d(()=>e(o).notes)))),u(b,_)};de(tt,b=>{e(o),d(()=>e(o).notes)&&b(at)})}t(Le),t(ze),t(Y),g((b,_,p)=>{n(Xe,b),ft(te,1,`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${_??""}`),n(Ye,p),n(Ze,`${e(o),d(()=>e(o).duration)??""} 分钟`),n(et,`${e(o),d(()=>e(o).exercises.length)??""} 个动作`)},[()=>(e(o),d(()=>Pe(e(o).date))),()=>(e(o),d(()=>Ee(e(o).type))),()=>(e(o),d(()=>Ae(e(o).type)))],ut),u(v,Y)},v=>{var o=$t();u(v,o)}),t(De),xt(2),g(()=>{n(Je,(e(i),d(()=>e(i).totalWorkouts))),n(Ke,`${e(i),d(()=>e(i).totalDuration)??""}分钟`),n(Qe,`${e(i),d(()=>e(i).averageDuration)??""}分钟`),n(Re,`${e(i),d(()=>e(i).currentStreak)??""}天`),n(Ue,`${e(i),d(()=>e(i).longestStreak)??""}天`)}),le(A,()=>e(y),v=>c(y,v)),le(K,()=>e(C),v=>c(C,v)),le(U,()=>e(D),v=>c(D,v)),u(k,w)};de(s,k=>{e(L)?k(h):k(f,!1)},l)}};de(Fe,s=>{e(H)?s(Ge):s(Ie,!1)})}t(T),u(Te,T),nt(),Ne()}export{Nt as component};
