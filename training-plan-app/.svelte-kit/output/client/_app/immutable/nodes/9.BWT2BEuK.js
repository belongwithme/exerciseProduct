import"../chunks/CWj6FrbW.js";import{i as xr}from"../chunks/DvY-oIkD.js";import{p as mr,o as hr,f as v,h as yr,b as n,c as kr,$ as wr,i as c,m as B,w as M,g as t,s,d as l,r as i,n as pe,t as f,y as L,j as _,e as A,x as xe,W as me,k as Mr,v as Lr}from"../chunks/OdQOizuy.js";import{i as b,s as Cr,a as zr}from"../chunks/C8SgvbjV.js";import{r as E}from"../chunks/BXCeKLx5.js";import{b as j}from"../chunks/BYDUMkhU.js";import{b as he}from"../chunks/BXfySZhw.js";import{u as Ir,e as Br}from"../chunks/CEWoIMHy.js";import{g as ye}from"../chunks/BRzFZVPj.js";var jr=v('<div class="flex justify-center items-center py-12"><div class="animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"></div> <span class="ml-3 text-gray-600 dark:text-gray-300">加载个人资料中...</span></div>'),Dr=v('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200"> </span>'),Hr=v('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200"> </span>'),Pr=v('<span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200"> </span>'),Ar=v('<button class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"></path></svg> 编辑资料</button>'),Er=v('<div class="bg-red-50 border border-red-200 rounded-lg p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-red-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-red-700"> </p></div></div></div>'),Fr=v('<div class="bg-green-50 border border-green-200 rounded-lg p-4 mb-6"><div class="flex"><div class="flex-shrink-0"><svg class="h-5 w-5 text-green-400" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg></div> <div class="ml-3"><p class="text-sm text-green-700"> </p></div></div></div>'),Sr=v('<input id="full_name" type="text" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="请输入您的姓名"/>'),Tr=v('<p class="text-gray-900 dark:text-white"> </p>'),Or=v('<input id="birth_date" type="date" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"/>'),Ur=v('<span class="text-gray-500 dark:text-gray-400"> </span>'),Vr=v('<p class="text-gray-900 dark:text-white"> <!></p>'),Yr=v('<select id="gender" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"><option>请选择</option><option>男</option><option>女</option><option>其他</option></select>'),qr=v('<p class="text-gray-900 dark:text-white"> </p>'),Gr=v('<input id="height_cm" type="number" min="100" max="250" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="175"/>'),Nr=v('<p class="text-gray-900 dark:text-white"> </p>'),Wr=v('<input id="weight_kg" type="number" min="30" max="200" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="70"/>'),Jr=v('<p class="text-gray-900 dark:text-white"> </p>'),Kr=v('<div><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">BMI</label> <p class="text-gray-900 dark:text-white"> </p></div>'),Qr=v('<select id="experience_level" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"><option>请选择</option><option>初学者</option><option>中级</option><option>高级</option><option>专业级</option></select>'),Rr=v('<p class="text-gray-900 dark:text-white"> </p>'),Xr=v('<textarea id="goals" rows="3" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="描述您的训练目标..."></textarea>'),Zr=v('<p class="text-gray-900 dark:text-white"> </p>'),$r=v('<textarea id="bio" rows="4" class="w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white" placeholder="简单介绍一下自己..."></textarea>'),et=v('<p class="text-gray-900 dark:text-white"> </p>'),rt=Mr('<svg class="animate-spin -ml-1 mr-3 h-4 w-4 text-white" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> 保存中...',1),tt=v('<div class="mt-6 flex justify-end space-x-3"><button type="button" class="inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600 dark:hover:bg-gray-600">取消</button> <button type="button" class="inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed"><!></button></div>'),at=v('<div class="max-w-4xl mx-auto"><div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 mb-6"><div class="flex items-center space-x-6"><div class="flex-shrink-0"><div class="w-24 h-24 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white text-2xl font-bold"> </div></div> <div class="flex-1"><h2 class="text-2xl font-bold text-gray-900 dark:text-white"> </h2> <p class="text-gray-600 dark:text-gray-300"> </p> <div class="mt-2 flex flex-wrap gap-2"><!> <!> <!></div></div> <div class="flex-shrink-0 space-x-3"><!> <button class="inline-flex items-center px-4 py-2 border border-red-300 rounded-md shadow-sm text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 dark:bg-gray-700 dark:text-red-400 dark:border-red-600 dark:hover:bg-red-900/20"><svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path></svg> 退出登录</button></div></div></div> <!> <!> <div class="grid grid-cols-1 lg:grid-cols-2 gap-6"><div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">基本信息</h3> <div class="space-y-4"><div><label for="full_name" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">姓名</label> <!></div> <div><label for="email" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">邮箱</label> <p class="text-gray-900 dark:text-white"> </p> <p class="text-xs text-gray-500 dark:text-gray-400">邮箱地址无法修改</p></div> <div><label for="birth_date" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">出生日期</label> <!></div> <div><label for="gender" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">性别</label> <!></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">体格信息</h3> <div class="space-y-4"><div><label for="height_cm" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">身高 (cm)</label> <!></div> <div><label for="weight_kg" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">体重 (kg)</label> <!></div> <!> <div><label for="experience_level" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">训练水平</label> <!></div></div></div> <div class="bg-white dark:bg-gray-800 rounded-lg shadow p-6 lg:col-span-2"><h3 class="text-lg font-semibold text-gray-900 dark:text-white mb-4">训练目标</h3> <div class="space-y-4"><div><label for="goals" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">训练目标</label> <!></div> <div><label for="bio" class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1">个人简介</label> <!></div></div></div></div> <!></div>'),ot=v('<div class="container mx-auto px-4 py-8"><div class="mb-8"><h1 class="text-3xl font-bold text-gray-900 dark:text-white mb-2">个人资料</h1> <p class="text-gray-600 dark:text-gray-300">管理您的个人信息和训练偏好</p></div> <!></div>');function ft(ke,we){mr(we,!1);const[Me,Le]=Cr(),P=()=>zr(Ir,"$user",Me);let F=B(!1),D=B(!1),h=B(null),z=B(null),m=B(!1),a=B({full_name:"",email:"",height_cm:"",weight_kg:"",birth_date:"",gender:"",experience_level:"",goals:"",bio:""});hr(async()=>{if(!P()){ye("/auth");return}await R()});async function R(){var u;try{c(F,!0),c(h,null),P()&&(M(a,t(a).email=P().email||""),M(a,t(a).full_name=((u=P().user_metadata)==null?void 0:u.full_name)||"")),await new Promise(p=>setTimeout(p,1e3)),c(a,{...t(a),height_cm:"175",weight_kg:"70",birth_date:"1990-01-01",gender:"male",experience_level:"intermediate",goals:"提升弹跳能力，增强核心力量",bio:"热爱运动，专注于篮球训练和体能提升。目标是在3个月内将弹跳高度提升10cm。"})}catch(p){c(h,"加载个人资料失败，请稍后重试"),console.error("加载个人资料失败:",p)}finally{c(F,!1)}}async function Ce(){try{if(c(D,!0),c(h,null),c(z,null),!t(a).full_name.trim()){c(h,"姓名不能为空");return}if(t(a).height_cm&&(parseInt(t(a).height_cm)<100||parseInt(t(a).height_cm)>250)){c(h,"身高请输入100-250之间的数值");return}if(t(a).weight_kg&&(parseInt(t(a).weight_kg)<30||parseInt(t(a).weight_kg)>200)){c(h,"体重请输入30-200之间的数值");return}await new Promise(u=>setTimeout(u,1500)),c(z,"个人资料保存成功！"),c(m,!1),setTimeout(()=>{c(z,null)},3e3)}catch(u){c(h,"保存个人资料失败，请稍后重试"),console.error("保存个人资料失败:",u)}finally{c(D,!1)}}function ze(){c(m,!1),c(h,null),c(z,null),R()}async function Ie(){confirm("确定要退出登录吗？")&&(await Br(),ye("/auth"))}function X(u){return{beginner:"初学者",intermediate:"中级",advanced:"高级",professional:"专业级"}[u]||u}function Z(u){return{male:"男",female:"女",other:"其他"}[u]||u}function $(u){if(!u)return"";const p=new Date,y=new Date(u);let I=p.getFullYear()-y.getFullYear();const C=p.getMonth()-y.getMonth();return(C<0||C===0&&p.getDate()<y.getDate())&&I--,I}function Be(u,p){if(!u||!p)return"";const y=parseInt(u)/100;return(parseInt(p)/(y*y)).toFixed(1)}xr();var S=ot();yr(u=>{wr.title="个人资料 - 弹跳训练营"});var je=s(l(S),2);{var De=u=>{var p=jr();n(u,p)},He=u=>{var p=at(),y=l(p),I=l(y),C=l(I),ee=l(C),Pe=l(ee,!0);i(ee),i(C);var T=s(C,2),O=l(T),Ae=l(O,!0);i(O);var U=s(O,2),Ee=l(U,!0);i(U);var re=s(U,2),te=l(re);{var Fe=r=>{var e=Dr(),o=l(e,!0);i(e),f(d=>_(o,d),[()=>X(t(a).experience_level)],L),n(r,e)};b(te,r=>{t(a).experience_level&&r(Fe)})}var ae=s(te,2);{var Se=r=>{var e=Hr(),o=l(e,!0);i(e),f(d=>_(o,d),[()=>Z(t(a).gender)],L),n(r,e)};b(ae,r=>{t(a).gender&&r(Se)})}var Te=s(ae,2);{var Oe=r=>{var e=Pr(),o=l(e);i(e),f(d=>_(o,`${d??""}岁`),[()=>$(t(a).birth_date)],L),n(r,e)};b(Te,r=>{t(a).birth_date&&r(Oe)})}i(re),i(T);var oe=s(T,2),le=l(oe);{var Ue=r=>{var e=Ar();A("click",e,()=>c(m,!0)),n(r,e)};b(le,r=>{t(m)||r(Ue)})}var Ve=s(le,2);i(oe),i(I),i(y);var ie=s(y,2);{var Ye=r=>{var e=Er(),o=l(e),d=s(l(o),2),g=l(d),x=l(g,!0);i(g),i(d),i(o),i(e),f(()=>_(x,t(h))),n(r,e)};b(ie,r=>{t(h)&&r(Ye)})}var se=s(ie,2);{var qe=r=>{var e=Fr(),o=l(e),d=s(l(o),2),g=l(d),x=l(g,!0);i(g),i(d),i(o),i(e),f(()=>_(x,t(z))),n(r,e)};b(se,r=>{t(z)&&r(qe)})}var V=s(se,2),Y=l(V),de=s(l(Y),2),q=l(de),Ge=s(l(q),2);{var Ne=r=>{var e=Sr();E(e),j(e,()=>t(a).full_name,o=>M(a,t(a).full_name=o)),n(r,e)},We=r=>{var e=Tr(),o=l(e,!0);i(e),f(()=>_(o,t(a).full_name||"未设置")),n(r,e)};b(Ge,r=>{t(m)?r(Ne):r(We,!1)})}i(q);var G=s(q,2),ne=s(l(G),2),Je=l(ne,!0);i(ne),pe(2),i(G);var N=s(G,2),Ke=s(l(N),2);{var Qe=r=>{var e=Or();E(e),j(e,()=>t(a).birth_date,o=>M(a,t(a).birth_date=o)),n(r,e)},Re=r=>{var e=Vr(),o=l(e),d=s(o);{var g=x=>{var k=Ur(),w=l(k);i(k),f(H=>_(w,`(${H??""}岁)`),[()=>$(t(a).birth_date)],L),n(x,k)};b(d,x=>{t(a).birth_date&&x(g)})}i(e),f(x=>_(o,`${x??""} `),[()=>t(a).birth_date?new Date(t(a).birth_date).toLocaleDateString("zh-CN"):"未设置"],L),n(r,e)};b(Ke,r=>{t(m)?r(Qe):r(Re,!1)})}i(N);var ve=s(N,2),Xe=s(l(ve),2);{var Ze=r=>{var e=Yr();f(()=>{t(a),xe(()=>{})});var o=l(e);o.value=o.__value="";var d=s(o);d.value=d.__value="male";var g=s(d);g.value=g.__value="female";var x=s(g);x.value=x.__value="other",i(e),he(e,()=>t(a).gender,k=>M(a,t(a).gender=k)),n(r,e)},$e=r=>{var e=qr(),o=l(e,!0);i(e),f(d=>_(o,d),[()=>Z(t(a).gender)||"未设置"],L),n(r,e)};b(Xe,r=>{t(m)?r(Ze):r($e,!1)})}i(ve),i(de),i(Y);var W=s(Y,2),ue=s(l(W),2),J=l(ue),er=s(l(J),2);{var rr=r=>{var e=Gr();E(e),j(e,()=>t(a).height_cm,o=>M(a,t(a).height_cm=o)),n(r,e)},tr=r=>{var e=Nr(),o=l(e,!0);i(e),f(()=>_(o,t(a).height_cm?t(a).height_cm+" cm":"未设置")),n(r,e)};b(er,r=>{t(m)?r(rr):r(tr,!1)})}i(J);var K=s(J,2),ar=s(l(K),2);{var or=r=>{var e=Wr();E(e),j(e,()=>t(a).weight_kg,o=>M(a,t(a).weight_kg=o)),n(r,e)},lr=r=>{var e=Jr(),o=l(e,!0);i(e),f(()=>_(o,t(a).weight_kg?t(a).weight_kg+" kg":"未设置")),n(r,e)};b(ar,r=>{t(m)?r(or):r(lr,!1)})}i(K);var ce=s(K,2);{var ir=r=>{var e=Kr(),o=s(l(e),2),d=l(o,!0);i(o),i(e),f(g=>_(d,g),[()=>Be(t(a).height_cm,t(a).weight_kg)],L),n(r,e)};b(ce,r=>{t(a).height_cm&&t(a).weight_kg&&r(ir)})}var ge=s(ce,2),sr=s(l(ge),2);{var dr=r=>{var e=Qr();f(()=>{t(a),xe(()=>{})});var o=l(e);o.value=o.__value="";var d=s(o);d.value=d.__value="beginner";var g=s(d);g.value=g.__value="intermediate";var x=s(g);x.value=x.__value="advanced";var k=s(x);k.value=k.__value="professional",i(e),he(e,()=>t(a).experience_level,w=>M(a,t(a).experience_level=w)),n(r,e)},nr=r=>{var e=Rr(),o=l(e,!0);i(e),f(d=>_(o,d),[()=>X(t(a).experience_level)||"未设置"],L),n(r,e)};b(sr,r=>{t(m)?r(dr):r(nr,!1)})}i(ge),i(ue),i(W);var fe=s(W,2),_e=s(l(fe),2),Q=l(_e),vr=s(l(Q),2);{var ur=r=>{var e=Xr();me(e),j(e,()=>t(a).goals,o=>M(a,t(a).goals=o)),n(r,e)},cr=r=>{var e=Zr(),o=l(e,!0);i(e),f(()=>_(o,t(a).goals||"未设置")),n(r,e)};b(vr,r=>{t(m)?r(ur):r(cr,!1)})}i(Q);var be=s(Q,2),gr=s(l(be),2);{var fr=r=>{var e=$r();me(e),j(e,()=>t(a).bio,o=>M(a,t(a).bio=o)),n(r,e)},_r=r=>{var e=et(),o=l(e,!0);i(e),f(()=>_(o,t(a).bio||"未设置")),n(r,e)};b(gr,r=>{t(m)?r(fr):r(_r,!1)})}i(be),i(_e),i(fe),i(V);var br=s(V,2);{var pr=r=>{var e=tt(),o=l(e),d=s(o,2),g=l(d);{var x=w=>{var H=rt();pe(),n(w,H)},k=w=>{var H=Lr("保存");n(w,H)};b(g,w=>{t(D)?w(x):w(k,!1)})}i(d),i(e),f(()=>{o.disabled=t(D),d.disabled=t(D)}),A("click",o,ze),A("click",d,Ce),n(r,e)};b(br,r=>{t(m)&&r(pr)})}i(p),f(r=>{_(Pe,r),_(Ae,t(a).full_name||"未设置姓名"),_(Ee,t(a).email),_(Je,t(a).email)},[()=>t(a).full_name?t(a).full_name.charAt(0).toUpperCase():"U"],L),A("click",Ve,Ie),n(u,p)};b(je,u=>{t(F)?u(De):u(He,!1)})}i(S),n(ke,S),kr(),Le()}export{ft as component};
